<p>Joshua A. Westgard<br />
LBSC 671: Creating Information Infrastructures<br />
December 4, 2013</p>

## Technology Exploration: Viewshare and MODS

<p>The University of Maryland came to the digital collections game early, and in so doing, chose to develop its own XML-based metadata schemas, the <a href="http://wayback.archive-it.org/2410/20111104221121/http://www.lib.umd.edu/dcr/publications/taglibrary/umdm.html">University of Maryland Descriptive Metadata</a> (UMDM) and <a href="http://wayback.archive-it.org/2410/20111104221116/http://www.lib.umd.edu/dcr/publications/taglibrary/umam.html">University of Maryland Administrative Metadata</a> (UMAM).  While these schemas are capable of recording a full range of metadata elements to serve the needs of UMD's digital collections, there are ways in which having one's own custom schema is less than ideal.  A case in point is the Library of Congress' Viewshare service for creating visualizations of cultural heritage collections.  Viewshare allows users to upload collections of metadata, but only metadata in certain standardized forms, and it is not equipped to handle the UMDM/UMAM schemas.</p>

### Viewshare

<p>Viewshare (<a href="http://viewshare.org">viewshare.org</a>) accepts data imports from Excel spreadsheets, XML MODS files, and via OAI-PMH (which in turn leverages the Dublin Core metadata schema).  The University of Maryland exposes metadata via an <a href="http://digital.lib.umd.edu/oaicat/index.html">OAI-PMH portal</a>, and thus one can import metadata harvested from that service directly into Viewshare, but this system does introduce a certain amount of 'lossiness' into the transaction.  Some of the imperfections of the transfer became apparent in my attempts to export metadata from the <a href="http://digital.lib.umd.edu/ntlpostcards">National Trust Library Historic Postcard Collection</a> for use in Viewshare.</p>

### NTL Postcards Collection

<p>The NTL Postcards collection offers thousands of images of historic buildings and streetscapes from throughout the United States over the course of many decades, and thus is an excellent resource for both historical and architectural research, as well as being of general interest. In order to create a visualization from NTL Postcards data, the geographic information contained in the metadata is obviously essential. The UMDM schema breaks down the geographical metadata for each card into 'Continent', 'Country', 'Region' (here generally meaning State), and 'Settlement' fields, but in the DC metadata available via the OAI-PMH service, these categories are leveled and all converted into generic 'subject' fields.  This leveling is a good illustration of the lossiness of the Dublin Core standard, and this in turn presents problems for the use of this metadata in the mapping application available through Viewshare. Without a distinction among layers of geographic information, the Viewshare mapping tools will have little hope of being able to accurately process these metadata in order to populate maps.</p>

### Experiments in Interoperability of Metadata Schemas

<p>Fortunately, the solutions to this problem are not difficult to implement. In the course of this investigation, I have explored the following solutions for unlocking the information stored in the UMDM/UMAM metadata, in order to enable its use with Viewshare and other, similar tools:</p>

#### OAI-PMH

<p>First, I examined the options within Viewshare for working with metatdata exported via OAI-PMH.  The resulting dataset can be viewed in <a href="http://viewshare.org/data/westgard/ntl-postcards-oai-pmh/">this Viewshare respository</a>. The OAI-PMH service made the harvesting of data quite easy, and even though as noted above, some information was lost in the exchange, the resulting Viewshare data were still useful, for example for creating a timeline.</p>

#### Solr and JSON

<p>Second, I made use of the Libraries' (newly implemented) instance of the <a href="http://lucene.apache.org/solr/">Apache Solr indexing system</a> to extract the postcards metadata in JSON format from the UMD system. The resulting dataset is available in this github repository: <a href="https://raw.github.com/jwestgard/LBSC671-MetadataProj/master/ntl_data.json">LBSC671-MetadataProj</a>.  The metadata harvested into this JSON file are a targeted subset of the complete descriptive metadata. This dataset contains only those fields relevant to the identification and mapping of the locations of the subjects of the postcards.  It is also <a href="http://viewshare.org/data/westgard/ntl-postcards-json-augmented/">available in a repository on Viewshare</a>.  Because Viewshare is only able to parse JSON data loaded from the web, it was only possible to import this dataset by placing the JSON file on a website. Once it had been imported, it was then possible to use Viewshare's data augmentation features to geolocate the postcards data by indicating which fields contained city and state data, and subsequently to use the resulting data to create a map (viewable via the <a href="http://viewshare.org/data/westgard/ntl-postcards-json-augmented">Viewshare page for the the augmented JSON dataset</a> mentioned above, click on the "Map" link to see the resulting visualization). Interestingly, some locations were incorrectly identified and placed outside the United States due to errors in the automatic geolocation, for example, the Stonewall Jackson shrine in Guinea, VA was placed in New Guinea.  It is likely that many of these errors could be corrected by adding the country location data into the mix.</p>

#### Python and lxml
<p>Third, I explored a programmatic solution to the problem of metadata interoperability by writing a python script to crosswalk the UMDM metadata to the preferred schema for Viewshare, <a href="http://www.loc.gov/standards/mods/">MODS</a>. For the purpose of this exercise, I used the JSON metadata harvested from the Solr index as a starting point, though in theory essentially the same procedure could be established in a automated environment in the context of building any sort of service or API for accessing the metadata.  The script <a href="https://github.com/jwestgard/LBSC671-MetadataProj/blob/master/create_mods.py">create_mods.py</a> in this github repository reads data from a JSON file and parses it into python objects (specifically a list of dictionaries, or what more generically might be termed an array of associative arrays). It then iterates through the list, using the lxml python module to generate an XML tree for each item in the original JSON list. The root element of the XML tree is called "modsCollection", and the resulting XML file is stored in this github repository as <a href="https://raw.github.com/jwestgard/LBSC671-MetadataProj/master/result.xml">result.xml</a>. (Nota bene: the file is large &mdash; 2.5 MB &mdash; so not viewable through the usual github interface, though it is still viewable as a raw file.  For convenience, the file <a href="https://github.com/jwestgard/LBSC671-MetadataProj/blob/master/mods_sample.xml">mods_sample.xml</a> provides two examples of the resulting MODS objects). This final mode of ingesting data into Viewshare did not, in the end, prove to be any more powerful for the purpose of creating a visualization of the NTL Postcards data than the method using the JSON exported from Solr, but it does serve as a 'proof of concept' of the relative ease with which the crosswalking of XML data could be automated.  Likewise, a fourth solution to this problem involving XSLT, the full examination of which was beyond the scope of this project, is unlikely to have offered significant additional advantages over the pythonic solution.</p>

<p>As I have suggested above, in the world of metdata, <em>individuality</em> is not a particularly desirable trait. And yet, as my explorations have shown, when a metadata schema is well constructed and consistently employed, the barriers that it creates to the interoperability of information systems can be quite low.  The common language of XML &mdash; and the power of general purpose tools and systems like Solr, JSON, and Python &mdash; can make the process of communication relatively painless, even when not everyone is speaking precisely the same language.</p>

<h3>See also:</h3>

<ul>
<li>Github repository: <a href="https://github.com/jwestgard/LBSC671-MetadataProj">https://github.com/jwestgard/LBSC671-MetadataProj</a></li>
<li>Final Dataset on Viewshare: <a href="http://viewshare.org/views/westgard/ntl-postcards-json-augmented">http://viewshare.org/views/westgard/ntl-postcards-json-augmented</a>/</li>
<li>NTL Postcards Collection: <a href="http://digital.lib.umd.edu/ntlpostcards">http://digital.lib.umd.edu/ntlpostcards</a></li>
</ul>
